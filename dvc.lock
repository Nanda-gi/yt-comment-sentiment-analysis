schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 8d21565a7f9a5a8f1290219d0b0412f2
      size: 1265
    params:
      params.yaml:
        data_ingestion.test_size: 0.3
    outs:
    - path: data/raw
      hash: md5
      md5: f88ef22c7f1db6c243413655e0d4ff13.dir
      size: 6918747
      nfiles: 2
  data_preprocessing:
    cmd: python src/features/data_preprocessing.py
    deps:
    - path: data/raw/reddit_test.csv
      hash: md5
      md5: 627594f67e258135d66f8091eee51b7a
      size: 2036980
    - path: data/raw/reddit_train.csv
      hash: md5
      md5: 47bc8e1150d577a0f0483312681efcaa
      size: 4881767
    - path: src/features/data_preprocessing.py
      hash: md5
      md5: 1e9beaa6db8c80d4382d4764e40cb25c
      size: 1843
    outs:
    - path: data/interim
      hash: md5
      md5: 3eb5d0f7c8cbb9b375d83f661b117aee.dir
      size: 5183190
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/interim/reddit_test.csv
      hash: md5
      md5: 3d6256c8da5eea61ae1a2114765a9baa
      size: 1527480
    - path: data/interim/reddit_train.csv
      hash: md5
      md5: c61673c9deb1f558447faaad29fe5cd1
      size: 3655710
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 18de1cd18a993b5d62a84784921d1b93
      size: 1484
    params:
      params.yaml:
        feature_engineering.max_features: 10000
        feature_engineering.n_gram:
        - 1
        - 3
    outs:
    - path: data/processed
      hash: md5
      md5: 5ac59b5d9c662420ee368a69d91e8411.dir
      size: 1479783297
      nfiles: 2
    - path: vectorizer.pkl
      hash: md5
      md5: 57831cbf0ac0e1fec6654eeaa14baaea
      size: 383908
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/reddit_train.csv
      hash: md5
      md5: c61673c9deb1f558447faaad29fe5cd1
      size: 3655710
    - path: src/model/model_building.py
      hash: md5
      md5: ef41cca238f8180ad7730f27b77a35a9
      size: 922
    params:
      params.yaml:
        model_building.learning_rate: 0.08
        model_building.max_depth: 20
        model_building.n_estimators: 367
    outs:
    - path: best_model.pkl
      hash: md5
      md5: f5405b546dc00b0c05bce1499c1dbc84
      size: 4081551
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: best_model.pkl
      hash: md5
      md5: f5405b546dc00b0c05bce1499c1dbc84
      size: 4081551
    - path: data/interim/reddit_test.csv
      hash: md5
      md5: 3d6256c8da5eea61ae1a2114765a9baa
      size: 1527480
    - path: src/model/model_building.py
      hash: md5
      md5: ef41cca238f8180ad7730f27b77a35a9
      size: 922
    - path: vectorizer.pkl
      hash: md5
      md5: 57831cbf0ac0e1fec6654eeaa14baaea
      size: 383908
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 409306000809eb3d2d0838040226fce9
      size: 164
  register_model:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 409306000809eb3d2d0838040226fce9
      size: 164
    - path: src/model/model_building.py
      hash: md5
      md5: ef41cca238f8180ad7730f27b77a35a9
      size: 922
