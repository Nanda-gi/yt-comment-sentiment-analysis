schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 8d21565a7f9a5a8f1290219d0b0412f2
      size: 1265
    params:
      params.yaml:
        data_ingestion.test_size: 0.3
    outs:
    - path: data/raw
      hash: md5
      md5: f88ef22c7f1db6c243413655e0d4ff13.dir
      size: 6918747
      nfiles: 2
  data_preprocessing:
    cmd: python src/features/data_preprocessing.py
    deps:
    - path: data/raw/reddit_test.csv
      hash: md5
      md5: 627594f67e258135d66f8091eee51b7a
      size: 2036980
    - path: data/raw/reddit_train.csv
      hash: md5
      md5: 47bc8e1150d577a0f0483312681efcaa
      size: 4881767
    - path: src/features/data_preprocessing.py
      hash: md5
      md5: 605633e5d0766d00a8ea43f30d63b8f6
      size: 1662
    outs:
    - path: data/interim
      hash: md5
      md5: 2653e0c675850a09cef4d83fe0b73d1d.dir
      size: 5181068
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/interim/reddit_test.csv
      hash: md5
      md5: 5afcd843a761918fbc6c4768c5367c7d
      size: 1526841
    - path: data/interim/reddit_train.csv
      hash: md5
      md5: a5076d89f75203ba6407241609e6f3b0
      size: 3654227
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 9b45f813ff54cbbcf7dd23611e764ffd
      size: 1303
    params:
      params.yaml:
        feature_engineering.max_features: 10000
        feature_engineering.n_gram:
        - 1
        - 3
    outs:
    - path: data/processed
      hash: md5
      md5: 2b7d9c4fc9f7dae4d76712f55a4bfdb8.dir
      size: 1479776771
      nfiles: 2
    - path: vectorizer.pkl
      hash: md5
      md5: ace2d597ee21d6cc00275f38b82bbd5e
      size: 383950
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/reddit_train.csv
      hash: md5
      md5: a5076d89f75203ba6407241609e6f3b0
      size: 3654227
    - path: src/model/model_building.py
      hash: md5
      md5: 497e00e464882af84d09ab63151800df
      size: 862
    params:
      params.yaml:
        model_building.learning_rate: 0.07
        model_building.max_depth: 21
        model_building.n_estimators: 367
    outs:
    - path: best_model.pkl
      hash: md5
      md5: 087f18a567af90bb4558b230b68c3e16
      size: 4093221
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: best_model.pkl
      hash: md5
      md5: 087f18a567af90bb4558b230b68c3e16
      size: 4093221
    - path: data/interim/reddit_test.csv
      hash: md5
      md5: 5afcd843a761918fbc6c4768c5367c7d
      size: 1526841
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 2bdd640e025f86168faacd956fb30c1f
      size: 7376
    - path: vectorizer.pkl
      hash: md5
      md5: ace2d597ee21d6cc00275f38b82bbd5e
      size: 383950
    outs:
    - path: experiment_info.json
      hash: md5
      md5: ee98e1b454d8673effcfad3a0ebabce2
      size: 84
  register_model:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: ee98e1b454d8673effcfad3a0ebabce2
      size: 84
    - path: src/model/register_model.py
      hash: md5
      md5: 79b4e98e818fa12818b5c4f6b8ce6630
      size: 2462
